<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eleview V1.7.1</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body style="
  background: linear-gradient(135deg, #0F1E33, #153453, #1F5680, #3694D8);">

<canvas id="particle-wrap"></canvas>

<div id="intro">
  <div class="light-sweep"></div>

  <div class="intro-logo intro-ice frosty-text frosty-crystal">
    ELE<span class="purple">VIE</span>W
  </div>

  <p class="intro-text frosty-text">카페에서 이벤트 진행중..</p>

  <div class="loading-bar">
    <div class="loading-fill"></div>
  </div>
</div>


<div class="app">
<header style="display:flex; justify-content:center; align-items:center; position:relative; margin-top:5vh;">
  <div class="logo">Eleview V1.7.1</div>

  <!-- 햄버거 버튼 -->
  <button id="menuBtn" style="position:absolute; right:10px; top:50%; transform:translateY(-50%);
        background:none; border:none; color:#fff; font-size:24px; cursor:pointer;">☰</button>

  <!-- 햄버거 메뉴 패널 -->
  <div id="menuPanel" style="display:none; position:absolute; top:60px; right:10px; 
      background:rgba(0,0,0,0.85); border-radius:12px; padding:10px; flex-direction:column; gap:8px; min-width:160px; z-index:5;">
 <a href="https://open.kakao.com/o/sYLH7W1h" target="_blank"
   style="display:block; width:100%; padding:6px 0; font-weight:600; border-radius:8px; text-align:center; cursor:pointer; text-decoration:none; border:2px solid #d67cff; color:#d67cff; background:none; margin-bottom:8px;">
   📩 문의
</a>

<button id="customBtnMenu"
   style="display:block; width:100%; padding:6px 0; font-weight:600; border-radius:8px; text-align:center; cursor:pointer; border:2px solid #d67cff; color:#d67cff; background:none; margin-bottom:8px;">
   ⚙️ 설정
</button>

<a href="https://candle06.github.io/board/"
   style="display:block; width:100%; padding:6px 0; font-weight:600;
   border-radius:8px; text-align:center; cursor:pointer;
   text-decoration:none; border:2px solid #9b5cff;
   color:#9b5cff; background:none; margin-bottom:8px;">
   실시간 채팅
</a>

<button id="loginBtn"
   style="display:block; width:100%; padding:6px 0; font-weight:600;
   border-radius:8px; text-align:center; cursor:pointer;
   border:2px solid #4da3ff; color:#4da3ff; background:none; margin-bottom:8px;">
   🔐 로그인
</button>

<a href="https://naver.me/GcKVxHTB" target="_blank"
   style="display:block; width:100%; padding:6px 0; font-weight:600; border-radius:8px; text-align:center; cursor:pointer; text-decoration:none; border:2px solid #00c73c; color:#00c73c; background:none; margin-bottom:8px;">
   🏠 카페 바로가기
</a>

<button id="viewFavsBtn"
   style="display:block; width:100%; padding:6px 0; font-weight:600; border-radius:8px; text-align:center; cursor:pointer; border:2px solid #ffd700; color:#ffd700; background:none; margin-bottom:8px;">
   ⭐ 즐겨찾기 보기
</button>

<button id="donateBtn"
   style="display:block; width:100%; padding:6px 0; font-weight:600; border-radius:8px; text-align:center; cursor:pointer; border:2px solid #ff6b6b; color:#ff6b6b; background:none; margin-bottom:8px;">
   💖 후원
</button>

<button id="reviewBtn"
   style="display:none; width:100%; padding:6px 0; font-weight:600;
   border-radius:8px; text-align:center; cursor:pointer;
   border:2px solid #66ff99; color:#66ff99; background:none; margin-bottom:8px;">
   ✏️ 리뷰 작성
</button>

<button id="adminBtn"
   style="display:none; width:100%; padding:6px 0; font-weight:600;
   border-radius:8px; text-align:center; cursor:pointer;
   border:2px solid #ff4444; color:#ff4444; background:none; margin-bottom:8px;">
   🛠 리뷰 관리
</button>
  </div>
</header>

<div id="favModal" style="display:none; position:fixed; inset:0; justify-content:center; align-items:center; z-index:10; background:rgba(0,0,0,0.7);">
  <div style="background:#111; padding:20px; border-radius:12px; max-width:400px; width:90%; max-height:70vh; overflow:auto; display:flex; flex-direction:column; gap:10px;">
    <button id="closeFavModal" class="btn" style="align-self:flex-end;">닫기</button>
    <h3>즐겨찾기 목록</h3>
    <div id="favList"></div>
  </div>
</div>

<div id="adminModal" style="
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.7); backdrop-filter:blur(6px);
  justify-content:center; align-items:center; z-index:99999;">
  <div style="
    background:rgba(25,25,35,0.95); padding:20px;
    border-radius:16px; width:92%; max-width:420px;
    color:white; display:flex; flex-direction:column; gap:14px;">
  
    <h3 style="margin:0; text-align:center; font-size:20px;">🔧 관리자 메뉴</h3>

    <div style="padding:12px; border-radius:10px; background:rgba(255,215,0,0.1); border:1px solid #ffd700;">
      <h4 style="margin-top:0; color:#ffd700;">📢 공지 등록</h4>
      <textarea id="adminNoticeInput" placeholder="공지 내용을 입력하세요" style="
        width:95%; height:80px; padding:8px; border-radius:8px;
        background:rgba(255,255,255,0.06); border:1px solid #ffd70055;
        color:white; resize:none;"></textarea>
      <button id="saveNoticeBtn" style="
        margin-top:10px; padding:10px; width:100%; border-radius:10px;
        border:none; background:#ffd700; color:black; font-weight:700;">등록하기</button>
    </div>

    <div style="padding:12px; border-radius:10px; background:rgba(255,100,100,0.1); border:1px solid #ff4444;">
      <h4 style="margin-top:0; color:#ff6b6b;">📝 리뷰 관리</h4>
      <button id="openReviewList" style="
        width:100%; padding:10px; background:#ff4444;
        border:none; border-radius:10px; color:white; font-weight:700;">리뷰 목록 열기</button>
    </div>
    <div style="padding:12px; border-radius:10px; background:rgba(100,150,255,0.1); border:1px solid #4da3ff;">
      <h4 style="margin-top:0; color:#4da3ff;">🔍 검색 기록 조회</h4>
      <button id="openSearchLogBtn" style="
        width:100%; padding:10px; background:#4da3ff;
       border:none; border-radius:10px; color:white; font-weight:700;">검색 기록 열기</button>
    </div>

<button id="closeAdminModal" style="
      width:100%; padding:10px; border-radius:10px;
      border:1px solid #888; background:#333; color:white;">닫기</button>
  </div>
</div>

<div id="searchLogModal" style="
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.7); backdrop-filter:blur(4px);
  justify-content:center; align-items:center; z-index:99999;">
  
  <div style="
    background:#111; padding:20px; border-radius:12px;
    max-width:420px; width:90%; max-height:80vh; overflow-y:auto;
    color:white; display:flex; flex-direction:column; gap:10px;">
    
    <button id="closeSearchLogBtn" class="btn" style="align-self:flex-end;">닫기</button>
    <h3 style="margin:0; text-align:center;">🔍 전체 검색 기록</h3>

    <div id="searchLogList" style="margin-top:10px; display:flex; flex-direction:column; gap:10px;">
      불러오는 중...
    </div>

  </div>
</div>

<div id="noticeModal" style="
  display:none; position:fixed; inset:0;
  background:rgba(0,0,0,0.65); backdrop-filter:blur(6px);
  justify-content:center; align-items:center; z-index:99999;">
  
  <div style="
    background:rgba(20,20,30,0.9);
    border:1px solid rgba(255,200,0,0.5);
    border-radius:14px; padding:20px;
    width:90%; max-width:380px;">
    
    <h3 style="margin:0 0 10px 0; color:#ffd700;">📢 공지사항</h3>
    <div id="noticeContent" style="white-space:pre-line; color:white; margin-bottom:15px;"></div>

    <button id="hideTodayBtn" style="
      width:100%; padding:10px; margin-bottom:8px;
      background:#ffd700; border:none; color:black;
      border-radius:10px; font-weight:700;">
      오늘 하루 보지 않기
    </button>

    <button id="closeNoticeBtn" style="
      width:100%; padding:10px;
      background:#444; border:none; color:white;
      border-radius:10px; font-weight:600;">
      닫기
    </button>
  </div>
</div>
<div class="subtitle">
  승강기 정보 조회
  <div id="visitorCount">접속자: 0명</div>
</div>

<div class="search">
  <div class="box">
    <input 
      id="elevatorNo" 
      type="text" 
      placeholder="승강기 번호 입력"
      inputmode="numeric"
      pattern="[0-9]*"
      autocomplete="off">
  </div>

  <div class="box">
    <input id="buldAddress" type="text" placeholder="건물주소 입력">
  </div>
  <button class="btn" id="searchBtn">검색</button>
  <div id="result-list"></div>
</div>

<div id="reviewModal"
     style="
       display:none; position:fixed; inset:0;
       background:rgba(0,0,0,0.65); backdrop-filter:blur(6px);
       justify-content:center; align-items:center; z-index:9999;">
  <div style="
       width:90%; max-width:360px;
       background:rgba(20,20,30,0.85);
       border:1px solid rgba(155,92,255,0.4);
       border-radius:16px;
       padding:22px;
       box-shadow:0 8px 24px rgba(0,0,0,0.6),
                  0 0 18px rgba(155,92,255,0.35);
       color:white;
       display:flex; flex-direction:column; gap:14px;
       animation:fadeIn 0.25s ease;">

    <h3 style="
        margin:0; font-size:20px; font-weight:700;
        text-align:center;
        text-shadow:0 0 12px rgba(155,92,255,0.6);">✏️ 리뷰 작성</h3>
    <p>여러분의 리뷰는 큰 힘이 됩니다</p>

    <textarea id="reviewText"
      placeholder="여기에 리뷰를 작성하세요..."
      style="
         width:90%; height:150px;
         padding:12px;
         background:rgba(255,255,255,0.05);
         border:1px solid rgba(155,92,255,0.3);
         border-radius:12px;
         color:white; font-size:14px;
         resize:none; outline:none;
         box-shadow:inset 0 0 10px rgba(155,92,255,0.15);">
    </textarea>

    <button onclick="saveReview()"
      style="
        width:100%; padding:10px 0;
        border:none; border-radius:12px;
        font-size:15px; font-weight:600;
        background:linear-gradient(135deg,#9b5cff,#6e22ff);
        color:white; cursor:pointer;
        box-shadow:0 6px 18px rgba(155,92,255,0.4);
        transition:0.2s;"
      onmouseover="this.style.transform='scale(1.03)'"
      onmouseout="this.style.transform='scale(1)'">
      저장하기
    </button>

    <button onclick="document.getElementById('reviewModal').style.display='none'"
      style="
        width:100%; padding:10px 0;
        border:1px solid rgba(200,200,200,0.2);
        border-radius:12px;
        background:rgba(255,255,255,0.06);
        color:white; font-size:14px;
        cursor:pointer; transition:0.2s;"
      onmouseover="this.style.background='rgba(255,255,255,0.12)'"
      onmouseout="this.style.background='rgba(255,255,255,0.06)'">
      닫기
    </button>

  </div>
</div>

<div id="reviewListModal"
     style="
       display:none; position:fixed; inset:0;
       background:rgba(0,0,0,0.65); 
       backdrop-filter:blur(6px);
       justify-content:center; align-items:center; 
       z-index:9999;">
  <div style="
       width:92%; max-width:420px;
       background:rgba(20,20,30,0.88);
       border:1px solid rgba(255,88,88,0.4);
       border-radius:16px;
       padding:20px;
       box-shadow:0 8px 24px rgba(0,0,0,0.6),
                  0 0 18px rgba(255,88,88,0.35);
       color:white;
       display:flex; flex-direction:column; 
       gap:14px;
       max-height:85vh; 
       overflow-y:auto;
       animation:fadeIn 0.25s ease;">

    <h3 style="
        margin:0; font-size:20px; font-weight:700;
        text-align:center;
        text-shadow:0 0 12px rgba(255,88,88,0.7);">🛠 관리자 리뷰 목록</h3>

    <div id="reviewListBox" style="
        display:flex; flex-direction:column; gap:12px;">
      불러오는 중...
    </div>

    <button onclick="document.getElementById('reviewListModal').style.display='none'"
      style="
        width:100%; padding:10px 0;
        border:1px solid rgba(200,200,200,0.25);
        border-radius:12px;
        background:rgba(255,255,255,0.06);
        color:white; font-size:14px;
        cursor:pointer; transition:0.2s;"
      onmouseover="this.style.background='rgba(255,255,255,0.15)'"
      onmouseout="this.style.background='rgba(255,255,255,0.06)'">
      닫기
    </button>

  </div>
</div>

<div id="customModal">
  <div id="customContent">
    <h3>커스터마이징</h3>
    <label>배경 이미지 선택: <input type="file" id="bgImage" accept="image/*"></label>
    <label>배경 그라데이션 시작색</label>
<input type="color" id="bgStartColor" value="#0c1d3a">

<label>배경 그라데이션 끝색</label>
<input type="color" id="bgEndColor" value="#14427a">

<label>그라데이션 각도 (deg)</label>
<input type="number" id="bgAngle" value="135" min="0" max="360">
    <label>파티클 색상: <input type="color" id="particleColor" value="#9b5cff"></label>
    <label>파티클 수량: <input type="number" id="particleCount" value="80" min="10" max="300"></label>
    <label>검색 버튼 색상: <input type="color" id="searchColor" value="#9b5cff"></label>
    <button class="btn" id="applyBtn">적용</button>
<label>글씨 색상 선택</label>
<input type="color" id="textColorPicker" value="#000000" />
<button id="applyTextColorBtn">적용</button>
    <button class="btn" id="closeModal">닫기</button>
  </div>
</div>

<div id="historyModal">
  <div id="historyContentBox">
    <button id="closeHistoryBtn" class="btn" style="align-self:flex-end; margin-bottom:10px;">닫기</button>
    <h3>검사이력</h3>
    <div id="historyContent"></div>
  </div>
</div>

<div id="donateModal" style="display:none; position:fixed; inset:0; justify-content:center; align-items:center; z-index:10; background:rgba(0,0,0,0.7);">
  <div style="background:#111; padding:20px; border-radius:12px; max-width:400px; width:90%; display:flex; flex-direction:column; gap:10px; text-align:center; color:#fff;">
    <button id="closeDonateModal" class="btn" style="align-self:flex-end;">닫기</button>
    <h3>후원 안내</h3>
    <p>후원금은 서비스 유지에 사용됩니다</p>
    <p>(앱출시에 사용예정)</p>
    <p><strong>은행:</strong>케이뱅크 888004288696</p>
  </div>
</div>

<div id="loginModal" style="display:none; position:fixed; inset:0;
background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:20;">
  <div style="background:#111; padding:20px; border-radius:12px;
  width:90%; max-width:350px; display:flex; flex-direction:column; gap:10px;">

    <h3>로그인</h3>
    <p>이메일, 비밀번호 입력후 회원가입 또는 로그인</p>
    <input id="loginEmail" type="email" placeholder="이메일"
     style="padding:10px; border-radius:8px; border:none;">
    <input id="loginPw" type="password" placeholder="비밀번호"
     style="padding:10px; border-radius:8px; border:none;">

    <button id="loginDoBtn" class="btn">로그인</button>
    <button id="signupDoBtn" class="btn">회원가입</button>
    <button id="closeLoginModal" class="btn">닫기</button>

  </div>
</div>

<div class="footer" style="display:flex; flex-direction:column; align-items:center; gap:6px;">
  @2025 Eleview V1.7.1 - 제작자 : 마녀
</div>

<!-- 1. Firebase 기본 SDK (꼭 맨 먼저 로드) -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script src="app.js"></script>
</body>
</html>